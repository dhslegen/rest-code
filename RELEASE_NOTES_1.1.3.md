# Rest Code v1.1.3 发版说明

## 🎉 版本亮点

本次更新为Rest Code带来了全新的**专注模式**功能，显著改善了用户在脚本编辑时的交互体验，解决了界面滚动冲突问题。

## ✨ 新增功能

### 🎯 专注模式 (Focus Mode)
- **智能悬浮按钮**：右侧垂直居中位置，现代化设计
- **一键专注**：点击按钮或使用 `Cmd/Ctrl + F` 快速切换
- **智能滚动**：动态检测是否需要滚动到编辑器区域
- **自动置底**：专注模式下内容变化时自动保持滚动到底部
- **拖拽定位**：支持自由拖拽按钮到任意位置

### 🎨 交互体验优化
- **精准拖拽**：拖拽操作不会意外触发专注模式切换
- **视觉反馈**：丰富的悬停、拖拽、激活状态动画
- **智能提示**：操作提示消息中包含快捷键说明
- **响应式设计**：完美适配不同屏幕尺寸

## 🔧 技术改进

### 专注模式核心功能
- **MutationObserver**：实时监听DOM变化，自动保持置底效果
- **事件分离机制**：5px拖拽阈值，准确区分点击和拖拽操作
- **生命周期管理**：完善的事件监听器清理机制
- **性能优化**：仅在专注模式下进行内容监听

### 界面交互优化
- **边界检测**：按钮位置自动限制在窗口可见范围内
- **窗口响应**：大小变化时自动调整按钮位置
- **流畅动画**：CSS3动画和过渡效果优化
- **状态管理**：响应式状态管理和同步

## 📚 使用指南

### 专注模式操作
1. **激活方式**：
   - 点击右侧专注模式悬浮按钮
   - 使用快捷键 `Cmd/Ctrl + F`

2. **功能特性**：
   - 自动滚动到脚本编辑器区域
   - 禁用页面滚轮防止意外滚动
   - 实时监听内容变化保持置底

3. **自定义位置**：
   - 悬停按钮显示抓取光标
   - 拖拽到理想位置释放
   - 窗口变化时自动保持可见

### 快捷键
- `Cmd/Ctrl + F`：切换专注模式

## 🛡️ 稳定性提升

- **事件清理**：组件卸载时自动清理所有监听器
- **内存安全**：MutationObserver自动断开连接
- **边界保护**：完善的元素存在性检查
- **性能控制**：延迟执行避免频繁触发

## 🎨 视觉设计

### 悬浮按钮设计
- **正常状态**：蓝紫色渐变，现代化圆形设计
- **激活状态**：红色渐变，呼吸动画效果
- **拖拽状态**：放大缩放，增强阴影反馈
- **光效细节**：扫光效果，边框高光

### 消息提示优化
- **明确反馈**：所有操作都包含快捷键说明
- **智能提示**：区分滚动和非滚动状态的不同消息
- **现代化样式**：与整体UI设计语言保持一致

## 📖 文档更新

- 新增 `FOCUS_MODE_GUIDE.md` 详细使用指南
- 更新功能特性和技术实现说明
- 添加交互体验和设计理念说明

## 🔄 兼容性

- **浏览器支持**：Chrome 88+, Firefox 85+, Safari 14+, Edge 88+
- **平台支持**：macOS, Windows, Linux
- **响应式设计**：完美适配桌面和移动端

---

**专注模式让脚本编辑更加专注、智能、流畅！** 🚀

立即体验新功能，享受更好的编码体验！ 